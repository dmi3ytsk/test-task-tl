(function(){"use strict";var r={1876:function(r,e,t){var s=t(9242),o=t(3396);function n(r,e,t,s,n,l){const i=(0,o.up)("HomeView");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(i)])}function l(r,e,t,s,n,l){const i=(0,o.up)("UserFilter"),a=(0,o.up)("TotalTable");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(i),(0,o.Wm)(a)])}var i=t(7139);const a={class:"total-table"},u=(0,o._)("caption",{class:"total-table__table-title"},[(0,o._)("i",null,"Достижения пользователей")],-1),d={class:"total-table__title-row"};function c(r,e,t,s,n,l){const c=(0,o.up)("UsersList");return(0,o.wg)(),(0,o.iD)("table",a,[u,(0,o._)("thead",d,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.columnHeaders,(r=>((0,o.wg)(),(0,o.iD)("th",{key:r[1],class:"total-table__col-title"},(0,i.zw)(r[0]),1)))),128))])]),(0,o.Wm)(c)])}const m={class:"total-table__table-content"},p={class:"total-table__cell"},h={class:"total-table__cell"},f={class:"total-table__cell"},_={class:"total-table__cell"};function y(r,e,t,s,n,l){return(0,o.wg)(),(0,o.iD)("tbody",m,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.filteredUsers,(r=>((0,o.wg)(),(0,o.iD)("tr",{key:r.place},[(0,o._)("td",p,(0,i.zw)(r.place),1),(0,o._)("td",h,(0,i.zw)(r.userLogin),1),(0,o._)("td",f,(0,i.zw)(r.orders),1),(0,o._)("td",_,(0,i.zw)(r.status),1)])))),128))])}var g=t(65),w={name:"UsersList",computed:(0,g.Se)(["filteredUsers"])},b=t(89);const v=(0,b.Z)(w,[["render",y]]);var L=v,F={name:"TotalTable",components:{UsersList:L},computed:{...(0,g.Se)(["columnHeaders"])}};const T=(0,b.Z)(F,[["render",c]]);var D=T;const U={class:"filter"},k=(0,o._)("h3",null,"Фильтр",-1),B={class:"filter__by-login"},O={class:"filter__by-orders"},S=(0,o._)("span",null,"Заказы",-1),C={class:"filter__by-status"},V={class:"filter__sort"},H=(0,o._)("span",null,"Сортировать ",-1),x=(0,o._)("option",null,null,-1),j=["value"],z={key:0},q=(0,o._)("option",{value:"asc",selected:""},"возрастанию",-1),Z=(0,o._)("option",{value:"desc"},"убыванию",-1),A=[q,Z],M={key:0,class:"filter__buttons"};function W(r,e,t,n,l,a){return(0,o.wg)(),(0,o.iD)("div",U,[k,(0,o._)("div",B,[(0,o._)("label",null,[(0,o.Uk)(" Логин "),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>l.userLogin=r),type:"text",placeholder:"логин"},null,512),[[s.nr,l.userLogin]])])]),(0,o._)("div",O,[S,(0,o._)("label",null,[(0,o.Uk)(" от "),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>l.ordersFrom=r),type:"number",min:"0",onChange:e[2]||(e[2]=(...r)=>a.fromOrdersValidation&&a.fromOrdersValidation(...r)),placeholder:"от",class:"filter__order-input"},null,544),[[s.nr,l.ordersFrom]])]),(0,o._)("label",null,[(0,o.Uk)(" до "),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>l.ordersTo=r),type:"number",min:"0",onChange:e[4]||(e[4]=(...r)=>a.toOrdersValidation&&a.toOrdersValidation(...r)),placeholder:"до",class:"filter__order-input"},null,544),[[s.nr,l.ordersTo]])])]),(0,o._)("div",C,[(0,o._)("label",null,[(0,o.Uk)(" Статус "),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>l.userStatus=r),type:"text",placeholder:"статус"},null,512),[[s.nr,l.userStatus]])])]),(0,o._)("div",V,[H,(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":e[6]||(e[6]=r=>l.sortBy=r)},[x,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.columnHeaders,(r=>((0,o.wg)(),(0,o.iD)("option",{key:r[1],value:r[1]},(0,i.zw)(r[0]),9,j)))),128))],512),[[s.bM,l.sortBy]]),l.sortBy?((0,o.wg)(),(0,o.iD)("span",z,"по ")):(0,o.kq)("",!0),l.sortBy?(0,o.wy)(((0,o.wg)(),(0,o.iD)("select",{key:1,"onUpdate:modelValue":e[7]||(e[7]=r=>l.sortDir=r)},A,512)),[[s.bM,l.sortDir]]):(0,o.kq)("",!0)]),l.userLogin||l.ordersFrom||l.ordersTo||l.userStatus||l.sortBy?((0,o.wg)(),(0,o.iD)("div",M,[(0,o._)("button",{onClick:e[8]||(e[8]=(...r)=>a.addFilter&&a.addFilter(...r))},"применить"),(0,o._)("button",{onClick:e[9]||(e[9]=(...r)=>a.resetFilter&&a.resetFilter(...r))},"сбросить")])):(0,o.kq)("",!0)])}var $={name:"UserFilter",data(){return{userLogin:"",ordersFrom:null,ordersTo:null,userStatus:"",sortBy:"",sortDir:"asc"}},computed:{...(0,g.Se)(["columnHeaders"])},methods:{...(0,g.OI)(["applyFilter"]),addFilter(){const r={userLogin:this.userLogin.toLowerCase(),ordersFrom:this.ordersFrom,ordersTo:this.ordersTo,userStatus:this.userStatus.toLowerCase(),sortBy:this.sortBy,sortDir:this.sortDir};this.applyFilter(r),this.$router.replace({query:r})},resetFilter(){this.applyFilter(null),this.$router.replace({name:"home"}),this.userLogin="",this.ordersFrom=null,this.ordersTo=null,this.userStatus="",this.sortBy="",this.sortDir="asc"},fromOrdersValidation(){this.ordersTo&&(this.ordersFrom=this.ordersFrom>this.ordersTo?this.ordersTo:this.ordersFrom)},toOrdersValidation(){this.ordersFrom&&(this.ordersTo=this.ordersTo<this.ordersFrom?this.ordersFrom:this.ordersTo)}},watch:{$route(){const r=this.$route.query;if(r.userLogin||r.userStatus||r.ordersFrom||r.ordersTo||r.sortBy){const e={userLogin:r.userLogin.toLowerCase(),ordersFrom:r.ordersFrom,ordersTo:r.ordersTo,userStatus:r.userStatus.toLowerCase(),sortBy:r.sortBy,sortDir:r.sortDir};this.applyFilter(e),this.userLogin=r.userLogin.toLowerCase(),this.ordersFrom=r.ordersFrom,this.ordersTo=r.ordersTo,this.userStatus=r.userStatus.toLowerCase(),this.sortBy=r.sortBy,this.sortDir=r.sortDir}}}};const K=(0,b.Z)($,[["render",W]]);var P=K,Y={name:"HomeView",components:{UserFilter:P,TotalTable:D}};const E=(0,b.Z)(Y,[["render",l]]);var I=E,G={name:"App",components:{HomeView:I}};const J=(0,b.Z)(G,[["render",n]]);var N=J,Q=t(2483);const R=[{path:"/",redirect:{name:"home"}},{path:"/index.html",name:"home",component:I}],X=(0,Q.p7)({history:(0,Q.PO)("/test-task-tl/dist/"),routes:R});var rr=X,er=(0,g.MT)({state:{columnHeaders:[["Место","place"],["Логин","userLogin"],["Подтвержденные заказы","orders"],["Статус","status"]],usersAchievements:[{place:1,userLogin:"smith@gmail.com",orders:312,status:"Ценитель красоты"},{place:2,userLogin:"lenin@gmail.com",orders:120,status:"Поставщик аксессуаров"},{place:3,userLogin:"mask@gmail.com",orders:98,status:"Конкурент минздрава"},{place:4,userLogin:"dog@mail.ru",orders:64,status:"рыбак"},{place:5,userLogin:"nightmare@mail.ru",orders:34,status:"охотник"},{place:6,userLogin:"cat@mail.ru",orders:1,status:"Ценитель красоты"}],search:null,filteredUsers:null},getters:{columnHeaders(r){return r.columnHeaders},filteredUsers(r){return r.filteredUsers?r.filteredUsers:r.usersAchievements},search(r){return r.search}},mutations:{applyFilter(r,e){if(null===e)r.search=null,r.filteredUsers=null;else{r.search=e;let t=r.usersAchievements.filter((r=>!e.userLogin||r.userLogin.includes(e.userLogin))).filter((r=>!e.userStatus||r.status.toLowerCase().includes(e.userStatus))).filter((r=>{if(e.ordersFrom||e.ordersTo){const t=e.ordersFrom||0,s=e.ordersTo||9999;return r.orders>=t&&r.orders<=s}return!0}));e.sortBy&&(t.sort(((r,t)=>{const s="number"===typeof r[e.sortBy]?r[e.sortBy]:r[e.sortBy].toLowerCase(),o="number"===typeof t[e.sortBy]?t[e.sortBy]:t[e.sortBy].toLowerCase();if(s<o)return-1})),"desc"===e.sortDir&&t.reverse()),r.filteredUsers=t}},updateUserLogin(r,e){r.search.userLogin=e}},actions:{},modules:{}});(0,s.ri)(N).use(er).use(rr).mount("#app")}},e={};function t(s){var o=e[s];if(void 0!==o)return o.exports;var n=e[s]={exports:{}};return r[s](n,n.exports,t),n.exports}t.m=r,function(){var r=[];t.O=function(e,s,o,n){if(!s){var l=1/0;for(d=0;d<r.length;d++){s=r[d][0],o=r[d][1],n=r[d][2];for(var i=!0,a=0;a<s.length;a++)(!1&n||l>=n)&&Object.keys(t.O).every((function(r){return t.O[r](s[a])}))?s.splice(a--,1):(i=!1,n<l&&(l=n));if(i){r.splice(d--,1);var u=o();void 0!==u&&(e=u)}}return e}n=n||0;for(var d=r.length;d>0&&r[d-1][2]>n;d--)r[d]=r[d-1];r[d]=[s,o,n]}}(),function(){t.n=function(r){var e=r&&r.__esModule?function(){return r["default"]}:function(){return r};return t.d(e,{a:e}),e}}(),function(){t.d=function(r,e){for(var s in e)t.o(e,s)&&!t.o(r,s)&&Object.defineProperty(r,s,{enumerable:!0,get:e[s]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"===typeof window)return window}}()}(),function(){t.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)}}(),function(){var r={143:0};t.O.j=function(e){return 0===r[e]};var e=function(e,s){var o,n,l=s[0],i=s[1],a=s[2],u=0;if(l.some((function(e){return 0!==r[e]}))){for(o in i)t.o(i,o)&&(t.m[o]=i[o]);if(a)var d=a(t)}for(e&&e(s);u<l.length;u++)n=l[u],t.o(r,n)&&r[n]&&r[n][0](),r[n]=0;return t.O(d)},s=self["webpackChunktest_task_tl"]=self["webpackChunktest_task_tl"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=t.O(void 0,[998],(function(){return t(1876)}));s=t.O(s)})();
//# sourceMappingURL=app.cac70309.js.map